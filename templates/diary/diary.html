{% extends "base.html" %}

{% block title %}Diary{% endblock %}



{% block content %}
<!-- Back to Home Floating Button -->
<a href="/homepage" class="corner-back-btn">← Back to Home</a>

<div>

    <a href="/diary/add" class="btn btn-primary mt-4">➕ Add a New Diary Entry</a>

</div>

<div class="container mt-5">
    <h2 class="mb-4">Your Diary Entries</h2>

    {% if diary_entries %}
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Date</th>
                <th>Product</th>
                <th>Body Part</th>
                <th>Acne</th>
                <th>Adverse Reaction</th>
                <th>Notes</th>
                <th>Photo</th>
            </tr>
        </thead>
        <tbody>
            {% for entry in diary_entries %}
            <tr>
                <td>{{ entry.date }}</td>
                <td>{{ entry.product_name }}</td>
                <td>{{ entry.body_part }}</td>
                <td>{{ 'Yes' if entry.acne else 'No' }}</td>
                <td>{{ 'Yes' if entry.adverse else 'No' }}</td>
                <td>{{ entry.diary_note }}</td>
                <td>
                    {% if entry.photo %}
                    <img src="{{ url_for('static', filename='uploads/' ~ entry.photo) }}" class="img-fluid"
                        alt="Diary photo" style="max-height: 100px;">
                    {% else %}
                    No Photo
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    {% else %}
    <p>You haven't added any diary entries yet.</p>
    {% endif %}

    <a href="diary/add" class="btn btn-primary mt-4">➕ Add Diary Entry</a>
</div>
{% endblock %}