{% extends "base.html" %}

{% block content %}

<a href="{{ url_for('product.view_product', product_id=product.product_id) }}" class="corner-back-btn">‚Üê Back to {{ product.product_name }}</a>

<div style="max-width:600px; margin: 60px auto 30px; background:#f2dae2; padding:30px; border-radius:20px;">
  <h2 style="text-align:center;">Write a review for<br>{{ product.product_name }}</h2>

  <form method="POST" enctype="multipart/form-data" class="review-form">
    <input type="hidden" name="product_id" value="{{ product.product_id }}">

    <label for="stars">Rating (1-5)</label>
    <select name="stars" id="stars" required>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
    </select>

    <label for="review_note">Your Review</label>
    <textarea name="review_note" id="review_note" rows="5" placeholder="Share your experience with this product." required></textarea>

    <label for="repurchase" style="display: flex; align-items: center; gap: 8px;">
      <input type="checkbox" name="repurchase" id="repurchase" value="1">
      <span>I would purchase again!</span>
    </label>

    <label for="review_photo">Upload a Photo (optional)</label>
    <input type="file" name="review_photo" id="review_photo" accept="image/*">

    <button type="submit" class="submit-btn">Submit Review</button>
  </form>
</div>

<style>
.corner-back-btn {
  position: fixed;
  top: 20px;
  left: 20px;
  background-color: #ffc1d3;
  color: white;
  font-weight: bold;
  padding: 10px 18px;
  border-radius: 10px;
  text-decoration: none;
  font-size: 14px;
  z-index: 999;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  transition: background 0.2s ease-in-out;
}
.corner-back-btn:hover {
  background-color: #f06292;
}

.review-form {
  display: flex;
  flex-direction: column;
  gap: 16px;
}
.review-form select,
.review-form textarea,
.review-form input[type="file"] {
  font-size: 1rem;
  padding: 10px;
  border-radius: 6px;
  border: 1px solid #b46464;
}

.submit-btn {
  background-color: #f06292;
  color: white;
  padding: 12px;
  font-size: 1rem;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.2s ease-in-out;
}
.submit-btn:hover {
  background-color: #e91e63;
}
</style>

{% endblock %}
